---
title: "Association Between Depression Rates and Voting Patterns in US Counties"
author: "Aryan Singh"
date: "April 27, 2025"
output: 
  pdf_document:
    toc: true
    toc_depth: 2
    fig_caption: true
    keep_tex: false
    fig_width: 7
    fig_height: 5
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo=FALSE, message=FALSE, warning=FALSE, fig.align="center")
# Load required packages
library(mgcv)
library(readr)
library(ggplot2)
library(gridExtra)
library(viridis)

# Either load saved objects or run analysis again
load("analysis_objects.RData")
```

## Executive Summary

```{r, echo=FALSE, fig.width=10, fig.height=8, fig.cap="Figure 1: Central Figure showing the relationship between depression rates and Republican vote share in US counties."}
# Display central figure
grid.arrange(central_figure)
```

**Objective Statement:** This analysis investigates the relationship between depression rates and voting patterns in US counties during the last presidential election, specifically examining whether higher depression rates are associated with increased Trump support after controlling for relevant factors.

**Key Findings:**
- Depression rates show a [positive/negative] association with Republican vote share across US counties
- This relationship [remains significant/becomes insignificant] after controlling for racial demographics and state-level effects
- States exhibit substantial heterogeneity in how depression relates to voting patterns
- [Additional key finding here based on your actual results]

## Introduction

The US political landscape has shown increasingly polarized voting patterns that correlate with various demographic, socioeconomic, and health factors. This report examines the potential relationship between county-level depression rates and voting for Donald Trump in the last presidential election. Understanding these associations may provide insights into how mental health correlates with political preferences across different geographic and demographic contexts.

## Data Description

The USvotes dataset contains voting records for US counties across several states in the last presidential election, along with information on depression levels and racial composition. Key variables include:

- **per_gop**: Percentage of votes for the Republican candidate (Trump)
- **Crude.Prevalence.Estimate**: Depression prevalence rate in the county
- **race**: Percentage of white population in the county
- **STNAME**: State name
- **total_votes**: Total number of votes cast in the county

```{r data-summary, echo=FALSE}
# Display data summary
summary_stats <- data.frame(
  Variable = c("Republican Vote %", "Depression Rate %", "White Population %", "Total Votes"),
  Mean = c(mean(uv$per_gop), mean(uv$Crude.Prevalence.Estimate), mean(uv$race*100), mean(uv$total_votes)),
  SD = c(sd(uv$per_gop), sd(uv$Crude.Prevalence.Estimate), sd(uv$race*100), sd(uv$total_votes)),
  Min = c(min(uv$per_gop), min(uv$Crude.Prevalence.Estimate), min(uv$race*100), min(uv$total_votes)),
  Max = c(max(uv$per_gop), max(uv$Crude.Prevalence.Estimate), max(uv$race*100), max(uv$total_votes))
)
knitr::kable(summary_stats, digits=2, caption="Summary statistics of key variables")
```

## Methods

To address the research question, I applied generalized additive models (GAMs) using the `mgcv` package in R. This approach allows for modeling non-linear relationships while accounting for the hierarchical structure of counties nested within states.

### Model Specification

I modeled the Republican vote share directly on the logit scale using a quasi-binomial family to account for potential overdispersion in the voting data. County-level observations were weighted by total votes to give appropriate weight to more populous counties.

Four models were compared:

1. **Fixed effects model** with depression and race as predictors
2. **Random intercept model** adding state-level random effects 
3. **Non-linear depression model** testing if depression has a non-linear effect
4. **Random slopes model** allowing the effect of depression to vary by state

The final model specification (random intercept model) was:

$$\text{logit}(p_i) = \beta_0 + \beta_1 \cdot \text{Depression}_i + \beta_2 \cdot \text{White}_i + b_{\text{State}[i]} + \epsilon_i$$

Where:
- $p_i$ is the proportion of Republican votes in county $i$
- $\text{Depression}_i$ is the depression rate in county $i$
- $\text{White}_i$ is the proportion of white population in county $i$
- $b_{\text{State}[i]}$ is the random intercept for the state containing county $i$

### Justification for Linear vs. Smooth Depression Term

```{r depr-linearity, fig.height=4, fig.width=7, fig.cap="Figure 2: Comparison of linear vs. smooth effect of depression", echo=FALSE}
# Analysis to determine if a smooth or linear term is more appropriate
# Include your justification for the chosen approach based on the model comparison
```

I chose a [linear/smooth] term for depression based on the following evidence:
- Model comparison via AIC showed [result of comparison]
- Visual inspection of the depression effect plot [showed/did not show] significant non-linearity
- The estimated degrees of freedom for the smooth term in the non-linear model was [value], suggesting [interpretation]

## Results

### Overall Effect of Depression on Republican Vote Share

```{r depression-effect, fig.height=4, fig.width=6, fig.cap="Figure 3: Estimated effect of depression rate on Republican vote share", echo=FALSE}
plot(p_effect)
```

The model estimates that [describe the direction and magnitude of the depression effect]. After controlling for racial composition and state-level random effects, a one percentage point increase in depression rate is associated with [specific numeric change] in the odds of voting Republican.

### State-Level Variation

```{r state-effects, fig.height=4, fig.width=6, fig.cap="Figure 4: State-specific effects of depression on Republican vote share", echo=FALSE}
plot(p_slopes)
```

There is substantial heterogeneity in the relationship between depression and voting patterns across states. [Describe patterns observed in the state-specific effects]. This suggests that [interpretation of why states might differ].

### Model Diagnostics

```{r diagnostics, fig.height=5, fig.width=8, fig.cap="Figure 5: Model diagnostic plots", echo=FALSE}
grid.arrange(residual_grid)
```

Diagnostic plots indicate [assessment of model fit]. The residuals [show/do not show] patterns of concern, suggesting the model [adequately/inadequately] captures the relationship in the data. [Add any specific concerns or limitations].

## Discussion

This analysis [supports/does not support] the hypothesis that higher depression rates are associated with increased Trump support in the last election. [Elaborate on the main findings and their implications].

The substantial variation across states suggests that [interpretation about geographic differences]. This could reflect [potential explanations for the observed patterns].

### Limitations

Several limitations should be considered when interpreting these results:
- The ecological fallacy - county-level associations may not reflect individual-level relationships
- Potential confounding from unmeasured socioeconomic factors
- Cross-sectional nature of the data prevents causal inference
- [Any other limitations specific to your analysis]

## Conclusion

In response to the research question, this analysis finds [concise summary of main finding]. The relationship between depression and voting behavior is complex and [varies/does not vary] substantially by state. Future research could explore additional demographic and socioeconomic factors that might explain these patterns, as well as examining individual-level data to avoid ecological fallacies.

## References

- Wood, S.N. (2017) Generalized Additive Models: An Introduction with R (2nd edition). Chapman and Hall/CRC.
- [Add references to the original data sources mentioned in the assignment]
- [Any other relevant references]
